<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Kapitel 9 Plots und Grafiken | Handout für R Grundkurs</title>
  <meta name="description" content="Kapitel 9 Plots und Grafiken | Handout für R Grundkurs" />
  <meta name="generator" content="bookdown 0.30 and GitBook 2.6.7" />

  <meta property="og:title" content="Kapitel 9 Plots und Grafiken | Handout für R Grundkurs" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Kapitel 9 Plots und Grafiken | Handout für R Grundkurs" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tidyverse.html"/>
<link rel="next" href="kontrollstrukturen.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/d3-3.3.8/d3.min.js"></script>
<script src="libs/dagre-0.4.0/dagre-d3.min.js"></script>
<link href="libs/mermaid-0.3.0/dist/mermaid.css" rel="stylesheet" />
<script src="libs/mermaid-0.3.0/dist/mermaid.slim.min.js"></script>
<link href="libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet" />
<script src="libs/chromatography-0.1/chromatography.js"></script>
<script src="libs/DiagrammeR-binding-1.0.9/DiagrammeR.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Handout R Kurs</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Vorwort</a></li>
<li class="chapter" data-level="" data-path="hinweise-zur-verwendung-des-handouts.html"><a href="hinweise-zur-verwendung-des-handouts.html"><i class="fa fa-check"></i>Hinweise zur Verwendung des Handouts</a></li>
<li class="chapter" data-level="1" data-path="einführung.html"><a href="einführung.html"><i class="fa fa-check"></i><b>1</b> Einführung</a>
<ul>
<li class="chapter" data-level="1.1" data-path="einführung.html"><a href="einführung.html#was-ist-r-und-warum-sollte-man-r-lernen"><i class="fa fa-check"></i><b>1.1</b> Was ist R und warum sollte man R lernen?</a></li>
<li class="chapter" data-level="1.2" data-path="einführung.html"><a href="einführung.html#installation"><i class="fa fa-check"></i><b>1.2</b> Installation</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="oberfläche.html"><a href="oberfläche.html"><i class="fa fa-check"></i><b>2</b> Oberfläche</a>
<ul>
<li class="chapter" data-level="2.1" data-path="oberfläche.html"><a href="oberfläche.html#r-gui"><i class="fa fa-check"></i><b>2.1</b> R GUI</a></li>
<li class="chapter" data-level="2.2" data-path="oberfläche.html"><a href="oberfläche.html#rstudio"><i class="fa fa-check"></i><b>2.2</b> RStudio</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="oberfläche.html"><a href="oberfläche.html#console"><i class="fa fa-check"></i><b>2.2.1</b> Console</a></li>
<li class="chapter" data-level="2.2.2" data-path="oberfläche.html"><a href="oberfläche.html#script-editor"><i class="fa fa-check"></i><b>2.2.2</b> Script Editor</a></li>
<li class="chapter" data-level="2.2.3" data-path="oberfläche.html"><a href="oberfläche.html#file-editor-und-environment"><i class="fa fa-check"></i><b>2.2.3</b> File-Editor und Environment</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="oberfläche.html"><a href="oberfläche.html#prüfe-dich-selbst"><i class="fa fa-check"></i><b>2.3</b> Prüfe dich selbst</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html"><i class="fa fa-check"></i><b>3</b> Atomare Datentypen</a>
<ul>
<li class="chapter" data-level="3.1" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#arithmetische-grundoperationen-und-basisfunktionen"><i class="fa fa-check"></i><b>3.1</b> Arithmetische Grundoperationen und Basisfunktionen</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#funktionsaufrufe"><i class="fa fa-check"></i><b>3.1.1</b> Funktionsaufrufe</a></li>
<li class="chapter" data-level="3.1.2" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#objekte-funktionen-und-referenzen"><i class="fa fa-check"></i><b>3.1.2</b> Objekte, Funktionen und Referenzen</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#erzeugung-von-referenzierbaren-objekten"><i class="fa fa-check"></i><b>3.2</b> Erzeugung von referenzierbaren Objekten</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#anmerkung-namen"><i class="fa fa-check"></i><b>3.2.1</b> Anmerkung Namen</a></li>
<li class="chapter" data-level="3.2.2" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#rechnungen-mit-werten-von-objekten"><i class="fa fa-check"></i><b>3.2.2</b> Rechnungen mit Werten von Objekten</a></li>
<li class="chapter" data-level="3.2.3" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#namen-überschreiben"><i class="fa fa-check"></i><b>3.2.3</b> Namen überschreiben</a></li>
<li class="chapter" data-level="3.2.4" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#objekte-löschen"><i class="fa fa-check"></i><b>3.2.4</b> Objekte löschen</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#logische-werte-und-operationen"><i class="fa fa-check"></i><b>3.3</b> Logische Werte und Operationen</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#der-logische-wert-na"><i class="fa fa-check"></i><b>3.3.1</b> Der “logische” Wert NA</a></li>
<li class="chapter" data-level="3.3.2" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#vergleichs-operationen"><i class="fa fa-check"></i><b>3.3.2</b> Vergleichs-Operationen</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#zeichenketten-character-strings"><i class="fa fa-check"></i><b>3.4</b> Zeichenketten (character strings)</a></li>
<li class="chapter" data-level="3.5" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#klasse-eines-datenobjektes"><i class="fa fa-check"></i><b>3.5</b> Klasse eines Datenobjektes</a></li>
<li class="chapter" data-level="3.6" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#spezielle-werte"><i class="fa fa-check"></i><b>3.6</b> Spezielle Werte</a></li>
<li class="chapter" data-level="3.7" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#prüfe-dich-selbst-1"><i class="fa fa-check"></i><b>3.7</b> Prüfe dich selbst</a></li>
<li class="chapter" data-level="3.8" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#videos-zum-kapitel"><i class="fa fa-check"></i><b>3.8</b> Videos zum Kapitel</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#atomare-datentypen-1"><i class="fa fa-check"></i><b>3.8.1</b> Atomare Datentypen</a></li>
<li class="chapter" data-level="3.8.2" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#objektzuweisungen"><i class="fa fa-check"></i><b>3.8.2</b> Objektzuweisungen</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="atomare-datentypen.html"><a href="atomare-datentypen.html#literaturverweise"><i class="fa fa-check"></i><b>3.9</b> Literaturverweise</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html"><i class="fa fa-check"></i><b>4</b> Strukturierte Datentypen</a>
<ul>
<li class="chapter" data-level="4.1" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#vektoren"><i class="fa fa-check"></i><b>4.1</b> Vektoren</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#abfragen-von-werten-durch-subsetting-von-vektoren"><i class="fa fa-check"></i><b>4.1.1</b> Abfragen von Werten durch Subsetting von Vektoren</a></li>
<li class="chapter" data-level="4.1.2" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#vektorisierte-operationen"><i class="fa fa-check"></i><b>4.1.2</b> Vektorisierte Operationen</a></li>
<li class="chapter" data-level="4.1.3" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#operationen-auf-vektoren"><i class="fa fa-check"></i><b>4.1.3</b> Operationen auf Vektoren</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#matrizen"><i class="fa fa-check"></i><b>4.2</b> Matrizen</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#benennung-von-spalten"><i class="fa fa-check"></i><b>4.2.1</b> Benennung von Spalten</a></li>
<li class="chapter" data-level="4.2.2" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#erzeugung-von-matrizen-aus-vektoren"><i class="fa fa-check"></i><b>4.2.2</b> Erzeugung von Matrizen aus Vektoren</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#listen"><i class="fa fa-check"></i><b>4.3</b> Listen</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#indizierung-von-listen"><i class="fa fa-check"></i><b>4.3.1</b> Indizierung von Listen</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#data-frames"><i class="fa fa-check"></i><b>4.4</b> Data Frames</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#indizierung-von-datentabellen"><i class="fa fa-check"></i><b>4.4.1</b> Indizierung von Datentabellen</a></li>
<li class="chapter" data-level="4.4.2" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#aufnahme-weiterer-variablenspalten"><i class="fa fa-check"></i><b>4.4.2</b> Aufnahme weiterer Variablen/Spalten</a></li>
<li class="chapter" data-level="4.4.3" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#operationen-auf-datentabellen"><i class="fa fa-check"></i><b>4.4.3</b> Operationen auf Datentabellen</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#prüfe-dich-selbst-2"><i class="fa fa-check"></i><b>4.5</b> Prüfe dich selbst</a></li>
<li class="chapter" data-level="4.6" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#videos-zum-kapitel-1"><i class="fa fa-check"></i><b>4.6</b> Videos zum Kapitel</a>
<ul>
<li class="chapter" data-level="4.6.1" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#homogene-strukturierte-datentypen"><i class="fa fa-check"></i><b>4.6.1</b> Homogene Strukturierte Datentypen</a></li>
<li class="chapter" data-level="4.6.2" data-path="strukturierte-datentypen.html"><a href="strukturierte-datentypen.html#heterogene-strukturierte-datentypen"><i class="fa fa-check"></i><b>4.6.2</b> Heterogene Strukturierte Datentypen</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="funktionen.html"><a href="funktionen.html"><i class="fa fa-check"></i><b>5</b> Funktionen</a>
<ul>
<li class="chapter" data-level="5.1" data-path="funktionen.html"><a href="funktionen.html#eigenschaften"><i class="fa fa-check"></i><b>5.1</b> Eigenschaften</a></li>
<li class="chapter" data-level="5.2" data-path="funktionen.html"><a href="funktionen.html#aufbau"><i class="fa fa-check"></i><b>5.2</b> Aufbau</a></li>
<li class="chapter" data-level="5.3" data-path="funktionen.html"><a href="funktionen.html#verschachtelungen"><i class="fa fa-check"></i><b>5.3</b> Verschachtelungen</a></li>
<li class="chapter" data-level="5.4" data-path="funktionen.html"><a href="funktionen.html#pipes"><i class="fa fa-check"></i><b>5.4</b> Pipes</a></li>
<li class="chapter" data-level="5.5" data-path="funktionen.html"><a href="funktionen.html#default-werte"><i class="fa fa-check"></i><b>5.5</b> Default Werte</a></li>
<li class="chapter" data-level="5.6" data-path="funktionen.html"><a href="funktionen.html#help-fenster"><i class="fa fa-check"></i><b>5.6</b> Help Fenster</a></li>
<li class="chapter" data-level="5.7" data-path="funktionen.html"><a href="funktionen.html#prüfe-dich-selbst-3"><i class="fa fa-check"></i><b>5.7</b> Prüfe dich selbst</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>6</b> Packages</a>
<ul>
<li class="chapter" data-level="6.1" data-path="packages.html"><a href="packages.html#packages-installieren-und-laden"><i class="fa fa-check"></i><b>6.1</b> Packages installieren und laden</a></li>
<li class="chapter" data-level="6.2" data-path="packages.html"><a href="packages.html#needs"><i class="fa fa-check"></i><b>6.2</b> needs()</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="dateimanagement.html"><a href="dateimanagement.html"><i class="fa fa-check"></i><b>7</b> Dateimanagement</a>
<ul>
<li class="chapter" data-level="7.1" data-path="dateimanagement.html"><a href="dateimanagement.html#absolute-und-relative-dateipfade-exkurs"><i class="fa fa-check"></i><b>7.1</b> Absolute und relative Dateipfade (Exkurs)</a></li>
<li class="chapter" data-level="7.2" data-path="dateimanagement.html"><a href="dateimanagement.html#r-projects"><i class="fa fa-check"></i><b>7.2</b> R Projects</a></li>
<li class="chapter" data-level="7.3" data-path="dateimanagement.html"><a href="dateimanagement.html#dateien-einlesen"><i class="fa fa-check"></i><b>7.3</b> Dateien einlesen</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="dateimanagement.html"><a href="dateimanagement.html#r-interne-dateien"><i class="fa fa-check"></i><b>7.3.1</b> R-interne Dateien</a></li>
<li class="chapter" data-level="7.3.2" data-path="dateimanagement.html"><a href="dateimanagement.html#r-externe-dateien"><i class="fa fa-check"></i><b>7.3.2</b> R-externe Dateien</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tidyverse.html"><a href="tidyverse.html"><i class="fa fa-check"></i><b>8</b> Tidyverse</a>
<ul>
<li class="chapter" data-level="8.1" data-path="tidyverse.html"><a href="tidyverse.html#das-tidyverse"><i class="fa fa-check"></i><b>8.1</b> Das “Tidyverse”</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="tidyverse.html"><a href="tidyverse.html#tidyverse-laden"><i class="fa fa-check"></i><b>8.1.1</b> Tidyverse laden</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="tidyverse.html"><a href="tidyverse.html#dplyr"><i class="fa fa-check"></i><b>8.2</b> <code>dplyr::</code></a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="tidyverse.html"><a href="tidyverse.html#daten-verfügbar-machen"><i class="fa fa-check"></i><b>8.2.1</b> Daten verfügbar machen</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="tidyverse.html"><a href="tidyverse.html#variablen-manipulieren"><i class="fa fa-check"></i><b>8.3</b> Variablen Manipulieren</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="tidyverse.html"><a href="tidyverse.html#neue-variablen-erstellen"><i class="fa fa-check"></i><b>8.3.1</b> Neue Variablen erstellen</a></li>
<li class="chapter" data-level="8.3.2" data-path="tidyverse.html"><a href="tidyverse.html#variablen-umbennen"><i class="fa fa-check"></i><b>8.3.2</b> Variablen umbennen</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="tidyverse.html"><a href="tidyverse.html#fälle-manipulieren"><i class="fa fa-check"></i><b>8.4</b> Fälle Manipulieren</a>
<ul>
<li class="chapter" data-level="8.4.1" data-path="tidyverse.html"><a href="tidyverse.html#fälle-gruppieren"><i class="fa fa-check"></i><b>8.4.1</b> Fälle Gruppieren</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="tidyverse.html"><a href="tidyverse.html#prüfe-dich-selbst-4"><i class="fa fa-check"></i><b>8.5</b> Prüfe dich selbst</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="plots.html"><a href="plots.html"><i class="fa fa-check"></i><b>9</b> Plots und Grafiken</a>
<ul>
<li class="chapter" data-level="9.1" data-path="plots.html"><a href="plots.html#r-base-plots-mit-plot"><i class="fa fa-check"></i><b>9.1</b> R Base Plots mit <code>plot()</code></a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="plots.html"><a href="plots.html#speichern-von-base-grafiken"><i class="fa fa-check"></i><b>9.1.1</b> Speichern von Base Grafiken</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="plots.html"><a href="plots.html#ggplot"><i class="fa fa-check"></i><b>9.2</b> GGPlot</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="plots.html"><a href="plots.html#daten"><i class="fa fa-check"></i><b>9.2.1</b> Daten</a></li>
<li class="chapter" data-level="9.2.2" data-path="plots.html"><a href="plots.html#wichtiger-hinweis"><i class="fa fa-check"></i><b>9.2.2</b> Wichtiger Hinweis!</a></li>
<li class="chapter" data-level="9.2.3" data-path="plots.html"><a href="plots.html#aesthetics"><i class="fa fa-check"></i><b>9.2.3</b> Aesthetics</a></li>
<li class="chapter" data-level="9.2.4" data-path="plots.html"><a href="plots.html#geome"><i class="fa fa-check"></i><b>9.2.4</b> Geome</a></li>
<li class="chapter" data-level="9.2.5" data-path="plots.html"><a href="plots.html#achsenbeschriftung-und-themes"><i class="fa fa-check"></i><b>9.2.5</b> Achsenbeschriftung und Themes</a></li>
<li class="chapter" data-level="9.2.6" data-path="plots.html"><a href="plots.html#plots-als-objekte"><i class="fa fa-check"></i><b>9.2.6</b> Plots als Objekte</a></li>
<li class="chapter" data-level="9.2.7" data-path="plots.html"><a href="plots.html#facets"><i class="fa fa-check"></i><b>9.2.7</b> Facets</a></li>
<li class="chapter" data-level="9.2.8" data-path="plots.html"><a href="plots.html#speichern-von-grafiken-mit-ggsave"><i class="fa fa-check"></i><b>9.2.8</b> Speichern von Grafiken mit GGSave</a></li>
<li class="chapter" data-level="9.2.9" data-path="plots.html"><a href="plots.html#erweiterungen"><i class="fa fa-check"></i><b>9.2.9</b> Erweiterungen</a></li>
<li class="chapter" data-level="9.2.10" data-path="plots.html"><a href="plots.html#letzter-hinweis"><i class="fa fa-check"></i><b>9.2.10</b> Letzter Hinweis</a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="plots.html"><a href="plots.html#prüfe-dich-selbst-5"><i class="fa fa-check"></i><b>9.3</b> Prüfe dich selbst</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="kontrollstrukturen.html"><a href="kontrollstrukturen.html"><i class="fa fa-check"></i><b>10</b> Kontrollstrukturen</a>
<ul>
<li class="chapter" data-level="10.1" data-path="kontrollstrukturen.html"><a href="kontrollstrukturen.html#prinzipien-der-programmierung"><i class="fa fa-check"></i><b>10.1</b> Prinzipien der Programmierung</a></li>
<li class="chapter" data-level="10.2" data-path="kontrollstrukturen.html"><a href="kontrollstrukturen.html#funktionen-selber-schreiben"><i class="fa fa-check"></i><b>10.2</b> Funktionen selber schreiben</a></li>
<li class="chapter" data-level="10.3" data-path="kontrollstrukturen.html"><a href="kontrollstrukturen.html#kontrollstrukturen-1"><i class="fa fa-check"></i><b>10.3</b> Kontrollstrukturen</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="kontrollstrukturen.html"><a href="kontrollstrukturen.html#vektorisierte-fallunterscheidungen"><i class="fa fa-check"></i><b>10.3.1</b> Vektorisierte Fallunterscheidungen</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="kontrollstrukturen.html"><a href="kontrollstrukturen.html#schleifen"><i class="fa fa-check"></i><b>10.4</b> Schleifen</a></li>
<li class="chapter" data-level="10.5" data-path="kontrollstrukturen.html"><a href="kontrollstrukturen.html#vektorisiertes-programmieren"><i class="fa fa-check"></i><b>10.5</b> Vektorisiertes Programmieren</a></li>
<li class="chapter" data-level="10.6" data-path="kontrollstrukturen.html"><a href="kontrollstrukturen.html#prüfe-dich-selbst-6"><i class="fa fa-check"></i><b>10.6</b> Prüfe dich selbst</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="quellen.html"><a href="quellen.html"><i class="fa fa-check"></i>Quellen</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Handout für R Grundkurs</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="plots" class="section level1 hasAnchor" number="9">
<h1><span class="header-section-number">Kapitel 9</span> Plots und Grafiken<a href="plots.html#plots" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Eine große Stärke von R ist die Möglichkeit des Erstellens von publizierfähigen Grafiken. Wir wollen uns jetzt Schritt für Schritt anschauen, wie man in R Grafiken erzeugen kann. Als kleiner Ausblick hier schon mal ein vollständiger (und zugegebenermaßen etwas überladener) Plot:</p>
<p><img src="bookdownproj_files/figure-html/Example%20Plot-1.png" width="130%" /></p>
<p>Mit R lassen sich auf ganz unterschiedliche Weisen Grafiken erstellen. Die Art und Weise unterscheidet sich dabei hinsichtlich Komplexität und aber auch Möglichkeiten. Diese Varianten gibt es:</p>
<ol style="list-style-type: decimal">
<li><p>Mit dem Base R Grafiksystem lassen sich schnell und unkompliziert
vollständige (High-Level) Grafiken erzeugen.</p></li>
<li><p>Mit dem Base R Grafiksystem lassen sich jedoch auch (Low-Level)
Grafiken von Grund auf aufbauen und können sehr individuell gestaltet werden.</p></li>
<li><p>Mit verschiedenen Packages lassen sich mit vertretbarem Aufwand ansprechende und beliebig komplexe (Medium-Level) Grafiken erstellen. Hierunter zählt z.B. <code>ggplot2</code> aus dem <code>tidyverse</code>.</p></li>
</ol>
<p>In dieser Sitzung werden wir uns zunächst mit Variante 1 (High-Level-Grafiken) und dann Variante 3 (Medium-Level-Grafiken) beschäftigen. Fangen wir also direkt mit einfachen Base R Plots an!</p>
<div id="r-base-plots-mit-plot" class="section level2 hasAnchor" number="9.1">
<h2><span class="header-section-number">9.1</span> R Base Plots mit <code>plot()</code><a href="plots.html#r-base-plots-mit-plot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Mit der generischen Funktion <code>plot()</code> lassen sich die elementarsten High-Level
Grafiken erstellen. Die Art des Plots wird implizit entsprechend der Skalen der übergebenen Merkmale festgelegt. Kombinationen aus Merkmalen verschiedener Skalenniveaus führen dabei zu unterschiedlichen Darstellungen. Wem der Begriff Skalenniveau nichts sagt, findet hier eine Referenz: <a href="https://de.wikipedia.org/wiki/Skalenniveau">https://de.wikipedia.org/wiki/Skalenniveau</a>.</p>
<p>Zur Vorbereitung legen wir mit <code>dplyr::mutate()</code> noch zwei neue Variablen an:</p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="plots.html#cb210-1" aria-hidden="true" tabindex="-1"></a>df_regio <span class="ot">&lt;-</span> <span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">&quot;data/regio.rds&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb210-2"><a href="plots.html#cb210-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Region =</span> <span class="fu">if_else</span>(<span class="at">condition =</span> Regio_Code <span class="sc">&lt;</span> <span class="dv">11000</span>,</span>
<span id="cb210-3"><a href="plots.html#cb210-3" aria-hidden="true" tabindex="-1"></a>                            <span class="at">true =</span> <span class="st">&quot;Alte Bundesländer&quot;</span>,</span>
<span id="cb210-4"><a href="plots.html#cb210-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">false =</span> <span class="st">&quot;Neue Bundesländer&quot;</span></span>
<span id="cb210-5"><a href="plots.html#cb210-5" aria-hidden="true" tabindex="-1"></a>                          ),</span>
<span id="cb210-6"><a href="plots.html#cb210-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">Region =</span> <span class="fu">as_factor</span>(Region),</span>
<span id="cb210-7"><a href="plots.html#cb210-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">Durchschnittsalter_cat =</span> <span class="fu">cut_interval</span>(Durchschnittsalter, <span class="at">n =</span> <span class="dv">3</span>)</span>
<span id="cb210-8"><a href="plots.html#cb210-8" aria-hidden="true" tabindex="-1"></a>         )</span></code></pre></div>
<p>Zunächst übergeben wir nur <strong>eine metrische</strong> Variable als <code>x</code>.</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="plots.html#cb211-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> df_regio<span class="sc">$</span>Europawahl_Beteiligung_percent)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/Index%20Plot-1.png" width="\textwidth" /></p>
<p>Die resultierende Darstellung ist aufgrund der metrischen Variable ein <strong>Index-Plot</strong>, wobei unser Merkmal <code>x</code> auf der y-Achse abgetragen ist und durch Index auf der x-Achse eine künstliche Streuung eingeführt wird. Diese Art der Darstellung ist nicht besonders informativ.</p>
<p>Als nächstes übergeben wir <strong>eine kategoriale/diskrete</strong> Variable:</p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="plots.html#cb212-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> df_regio<span class="sc">$</span>Region)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/Balken%20Plot-1.png" width="\textwidth" />
Das erzeugt <strong>Balkendiagramm</strong> ist schon wesentlich informativer als der vorhergehende Indexplot. Aufgetragen ist die absolute Anzahl an Fällen pro Kategorie, wobei bei unserer Variable nur zwei Ausprägungen vorkommen.</p>
<p>Nun wollen wir uns den bivariaten Plots zuwenden. Als erstes übergeben wir der Funktion <code>plot()</code> <strong>zwei</strong> quasi <strong>metrische</strong> Variablen.</p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="plots.html#cb213-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> df_regio<span class="sc">$</span>Europawahl_Beteiligung_percent,</span>
<span id="cb213-2"><a href="plots.html#cb213-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> df_regio<span class="sc">$</span>Europawahl_AFD_percent)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/Streu%20Plot-1.png" width="\textwidth" /></p>
<p>Die daraus resultierende Darstellung ist ein <strong>Streuplot</strong>.</p>
<p>Interessanter wird es, wenn wir <strong>eine diskrete und eine stetige</strong> Variable kombinieren.</p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="plots.html#cb214-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> df_regio<span class="sc">$</span>Region,</span>
<span id="cb214-2"><a href="plots.html#cb214-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> df_regio<span class="sc">$</span>Europawahl_Beteiligung_percent)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/Boxplot-1.png" width="\textwidth" /></p>
<p>Hier wird nämlich für jede Kategorie die Verteilung der dazugehörigen metrischen Werte als Fünf-Punkte-Zusammenfassung oder auch <strong>Boxplot</strong> dargestellt. Der Strich in der Mitte der Box ist dabei der Median. Die Box an sich erstreckt sich vom 25%- zum 75%-Quantil und zeigt damit an, wo die zentralen 50% der Daten liegen (Vergleich auch: <a href="https://de.wikipedia.org/wiki/Box-Plot" class="uri">https://de.wikipedia.org/wiki/Box-Plot</a>).</p>
<p>Als letztes bleibt uns noch die Kombination von <strong>zwei diskreten</strong> Variablen.</p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="plots.html#cb215-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> df_regio<span class="sc">$</span>Region,</span>
<span id="cb215-2"><a href="plots.html#cb215-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> df_regio<span class="sc">$</span>Durchschnittsalter_cat)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/Mosaikplot-1.png" width="\textwidth" />
Bei dem erzeugten <strong>Mosaikplot</strong> entspricht die Fläche den Anteilswerten, weshalb auch an der rechten y-Achse die Prozentwert abgetragen sind. Auffällig ist hier zum Beispiel, dass in den neuen Bundesländern anteilig viel mehr Personen in die untere Durchschnittsalterkategorie fallen als bei den alten Bundesländern (rund 70% der Personen).</p>
<p>Plots, welche mit der Funktion <code>plot()</code> erstellt wurden, lassen sich mit verschiedenen Parametern anpassen.</p>
<p>Ein Beispiel:</p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="plots.html#cb216-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> df_regio<span class="sc">$</span>Europawahl_Beteiligung_percent, </span>
<span id="cb216-2"><a href="plots.html#cb216-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> df_regio<span class="sc">$</span>Europawahl_AFD_percent,</span>
<span id="cb216-3"><a href="plots.html#cb216-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Wahlstimmen für die AfD in Abhängigkeit der Wahlbeteiligung&quot;</span>,</span>
<span id="cb216-4"><a href="plots.html#cb216-4" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Wahlbeteiligung (in Prozent)&quot;</span>, </span>
<span id="cb216-5"><a href="plots.html#cb216-5" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Wahlstimmen für die AfD (in Prozent)&quot;</span>,</span>
<span id="cb216-6"><a href="plots.html#cb216-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">50</span>,<span class="dv">70</span>), <span class="at">ylim =</span> <span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">30</span>))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-115-1.png" width="\textwidth" /></p>
<p>Mit anderen Base R Funktionen kann auch ein bestimmter Typ von Plot erzwungen werden.</p>
<table>
<thead>
<tr class="header">
<th>Funktion</th>
<th>Beschreibung</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>plot()</code></td>
<td>generische Grafikfunktion</td>
</tr>
<tr class="even">
<td><code>hist()</code></td>
<td>Histogramm</td>
</tr>
<tr class="odd">
<td><code>boxplot()</code></td>
<td>Box-Plot</td>
</tr>
<tr class="even">
<td><code>barplot()</code></td>
<td>Balkendiagramm</td>
</tr>
<tr class="odd">
<td><code>qqplot()</code></td>
<td>Quantile-Quantile-Plot</td>
</tr>
<tr class="even">
<td><code>mosaicplot()</code></td>
<td>Mosaik-Plot</td>
</tr>
</tbody>
</table>
<div id="speichern-von-base-grafiken" class="section level3 hasAnchor" number="9.1.1">
<h3><span class="header-section-number">9.1.1</span> Speichern von Base Grafiken<a href="plots.html#speichern-von-base-grafiken" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Mit den Basisfunktionen in R lassen sich Grafiken in verschiedenen Formaten auf der Festplatte speichern. Es empfiehlt sich, die Grafiken als <code>.pdf</code> (Vektorgrafik) zu speichern. Hier ein möglicher Weg zum Speichern:</p>
<p><strong>Prinzip:</strong></p>
<ol style="list-style-type: decimal">
<li><p>Öffne eine leere PDF-Datei mit <code>pdf(file = "datenpfad")</code>.</p></li>
<li><p>Erstelle dann die zu speichernde(n) Grafik(en).</p></li>
<li><p>Mit <code>dev.off()</code> werden die Grafiken in die PDF-Datei geschrieben.</p></li>
</ol>
<p><strong>Beispiel:</strong></p>
<div class="sourceCode" id="cb217"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb217-1"><a href="plots.html#cb217-1" aria-hidden="true" tabindex="-1"></a><span class="co"># PDF-Device öffnen</span></span>
<span id="cb217-2"><a href="plots.html#cb217-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pdf</span>(<span class="at">file =</span> <span class="st">&quot;plots/erste_Grafik.pdf&quot;</span>)</span>
<span id="cb217-3"><a href="plots.html#cb217-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb217-4"><a href="plots.html#cb217-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Plots ausführen</span></span>
<span id="cb217-5"><a href="plots.html#cb217-5" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> df_regio<span class="sc">$</span>Europawahl_Beteiligung_percent,</span>
<span id="cb217-6"><a href="plots.html#cb217-6" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> df_regio<span class="sc">$</span>Europawahl_AFD_percent)</span>
<span id="cb217-7"><a href="plots.html#cb217-7" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> df_regio<span class="sc">$</span>Region,</span>
<span id="cb217-8"><a href="plots.html#cb217-8" aria-hidden="true" tabindex="-1"></a>     <span class="at">y =</span> df_regio<span class="sc">$</span>Durchschnittsalter_cat)</span>
<span id="cb217-9"><a href="plots.html#cb217-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb217-10"><a href="plots.html#cb217-10" aria-hidden="true" tabindex="-1"></a><span class="co"># PDF-Device schließen</span></span>
<span id="cb217-11"><a href="plots.html#cb217-11" aria-hidden="true" tabindex="-1"></a><span class="fu">dev.off</span>()</span></code></pre></div>
<p>Nun sollte bei euch im Verzeichnis <code>plots/</code> eine PDF-Datei liegen, welche die beiden ausgeführten Plots beinhaltet.</p>
</div>
</div>
<div id="ggplot" class="section level2 hasAnchor" number="9.2">
<h2><span class="header-section-number">9.2</span> GGPlot<a href="plots.html#ggplot" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Soweit erstmal zu Base R Grafiken. Jetzt schauen wir uns noch das Package <code>ggplot2</code> aus dem <code>tidyverse</code> an.</p>
<p><img src="resources/logo_ggplot.png" width="20%" style="display: block; margin: auto;" /></p>
<p><code>GGPlot2</code> ist ein mächtiges Grafik Package, um mit mittlerem
Aufwand sehr ansprechende Plots zu produzieren.</p>
<p>Die Logik des Aufbaus von Grafiken lehnt sich an die Ideen von Leland Wilkinson (<strong>The Grammar of Graphics</strong>) an.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:unnamed-chunk-118"></span>
<img src="resources/gglayers.png" alt="Quelle: http://r.qcbs.ca/workshop03/book-en/grammar-of-graphics-gg-basics.html" width="50%" />
<p class="caption">
Abb. 9.1: Quelle: <a href="http://r.qcbs.ca/workshop03/book-en/grammar-of-graphics-gg-basics.html" class="uri">http://r.qcbs.ca/workshop03/book-en/grammar-of-graphics-gg-basics.html</a>
</p>
</div>
<p>Die Idee dabei ist es, den Plot als ein Schichtung verschiedener Ebenen zu betrachten. Wenn man mit <code>ggplot</code> eine Grafik erstellen will, ist es hilfreich, sich dieses Bild vor Augen zu führen. Die unterste Ebene sind die Daten. Nach den Daten entscheiden wir uns mit den Aesthetics, welche Variablen auf welche Achsen abgebildet werden sollen (mapping). Die Geome bestimmen, wie der zuvor definierte Raum dargestellt werden soll. Sie geben den Daten eine “Form”, wie zum Beispiel im einfachsten Fall Punkte. Nach den Geomen folgen die Facets, welche die Möglichkeit bieten, die vorher definierte Darstellung anhand einer bestimmten “Facette” darzustellen. Beispielsweise könnten wir hier nach einem bestimmten kategorialen Merkmal stratifizieren, sodass jede Kategorie einen neuen Sub-Plot darstellt. Zuletzt können wir dann noch das gesamte Erscheinungsbild des Plots mit den “Coordinates” und “Themes” anpassen. So viel zur Theorie! Es wird sich zeigen, dass nicht alle Ebenen immer gebraucht werden.</p>
<div id="daten" class="section level3 hasAnchor" number="9.2.1">
<h3><span class="header-section-number">9.2.1</span> Daten<a href="plots.html#daten" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Zunächst übergeben wir den ersten “Layer” der Grafik: die <strong>Daten</strong>.</p>
<p>Es passiert augenscheinlich noch nichts. Tatsächlich werden aber die Daten
bereits hinterlegt.</p>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="plots.html#cb218-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_regio)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-119-1.png" width="\textwidth" /></p>
</div>
<div id="wichtiger-hinweis" class="section level3 hasAnchor" number="9.2.2">
<h3><span class="header-section-number">9.2.2</span> Wichtiger Hinweis!<a href="plots.html#wichtiger-hinweis" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Alternativ können die Daten an <code>ggplot()</code> auch gepiped werden:</p>
<div class="sourceCode" id="cb219"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb219-1"><a href="plots.html#cb219-1" aria-hidden="true" tabindex="-1"></a>df_regio <span class="sc">%&gt;%</span> </span>
<span id="cb219-2"><a href="plots.html#cb219-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-120-1.png" width="\textwidth" /></p>
<p>Diese Vorgehensweise macht euren Code noch übersichtlicher und ihr überfüllt
nicht euer Global Environment.</p>
</div>
<div id="aesthetics" class="section level3 hasAnchor" number="9.2.3">
<h3><span class="header-section-number">9.2.3</span> Aesthetics<a href="plots.html#aesthetics" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Im nächsten Schritt werden über das sogenannte <em>Mapping</em> die <strong>Aesthetics</strong>
festgelegt. Hierbei wird definiert, welche Merkmale der Daten worauf projiziert werden sollen (z.B. Achsen, Farbe, Größe, etc.).</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="plots.html#cb220-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_regio,</span>
<span id="cb220-2"><a href="plots.html#cb220-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Europawahl_Beteiligung_percent,</span>
<span id="cb220-3"><a href="plots.html#cb220-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">y =</span> Europawahl_AFD_percent))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-121-1.png" width="\textwidth" /></p>
</div>
<div id="geome" class="section level3 hasAnchor" number="9.2.4">
<h3><span class="header-section-number">9.2.4</span> Geome<a href="plots.html#geome" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Wie die Daten in Form der Aesthetics nun konkret dargestellt (besser: repräsentiert) werden sollen, wird über sogenannte “Geome” bestimmt. Die Geome werden mit <code>+</code> an die Basislayer gebunden. Damit wird deutlich, dass es sich um <em>zusätzliche</em> Layer handelt. Außerdem wird klar, dass die Reihenfolge der Geome relevant ist, da später hinzugefügte Geome die vorher hinzugefügten überdecken können.</p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="plots.html#cb221-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_regio,</span>
<span id="cb221-2"><a href="plots.html#cb221-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Europawahl_Beteiligung_percent,</span>
<span id="cb221-3"><a href="plots.html#cb221-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">y =</span> Europawahl_AFD_percent)) <span class="sc">+</span></span>
<span id="cb221-4"><a href="plots.html#cb221-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb221-5"><a href="plots.html#cb221-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rug</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-122-1.png" width="\textwidth" /></p>
<p>Ein kleiner Clou: manchmal sollen die Aesthetics (z.B. die Farbe) nur für ein
bestimmtes Geom angepasst werden. Wir können dadurch eine zusätzliche Abbildungsebene (mapping) zu dem bereits definierten Geom hinzufügen, ohne dies “global” zu tun.</p>
<p>Beispiel: Die Farbe der Punkte soll sich nach alten und neuen Bundesländern unterscheiden, aber nur für die Punkte, nicht für die Randverteilung.</p>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="plots.html#cb222-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_regio,</span>
<span id="cb222-2"><a href="plots.html#cb222-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Europawahl_Beteiligung_percent,</span>
<span id="cb222-3"><a href="plots.html#cb222-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">y =</span> Europawahl_AFD_percent)) <span class="sc">+</span></span>
<span id="cb222-4"><a href="plots.html#cb222-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">color =</span> Region)) <span class="sc">+</span></span>
<span id="cb222-5"><a href="plots.html#cb222-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rug</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-123-1.png" width="\textwidth" /></p>
<p>Gleichzeitig können auch statische ästhetische Eigenschaften festgelegt werden, die nicht an Daten geknüpft sind. Die Randverteilung im Plot soll lila (<code>color</code>) dargestellt werden und die Punkte sollen durchsichtiger (<code>alpha</code>) und größer (<code>size</code>) werden. Dazu übergeben wir den Geom <code>geom_point()</code> die entsprechenden Argumente:</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="plots.html#cb223-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_regio,</span>
<span id="cb223-2"><a href="plots.html#cb223-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Europawahl_Beteiligung_percent,</span>
<span id="cb223-3"><a href="plots.html#cb223-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">y =</span> Europawahl_AFD_percent)) <span class="sc">+</span></span>
<span id="cb223-4"><a href="plots.html#cb223-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">color =</span> Region), </span>
<span id="cb223-5"><a href="plots.html#cb223-5" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.6</span>, </span>
<span id="cb223-6"><a href="plots.html#cb223-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> <span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb223-7"><a href="plots.html#cb223-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rug</span>(<span class="at">color =</span> <span class="st">&quot;purple&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-124-1.png" width="\textwidth" /></p>
<p>Es existieren eine Vielzahl von Geomen. Hier eine kleine Übersicht über die wichtigsten:</p>
<table>
<thead>
<tr class="header">
<th>Geom</th>
<th>Geometrische Objekt</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>geom_points()</code></td>
<td>Datenpunkte (Scatter-Plot)</td>
</tr>
<tr class="even">
<td><code>geom_jitter()</code></td>
<td>Datenpunkte (Jitter-Plot)</td>
</tr>
<tr class="odd">
<td><code>geom_bar()</code></td>
<td>Balken</td>
</tr>
<tr class="even">
<td><code>geom_histogram()</code></td>
<td>Histogramm</td>
</tr>
<tr class="odd">
<td><code>geom_boxplot()</code></td>
<td>Boxplot</td>
</tr>
<tr class="even">
<td><code>geom_smooth()</code></td>
<td>Fit eines spezifizierten Zusammenhangs</td>
</tr>
<tr class="odd">
<td><code>geom_rug()</code></td>
<td>Marginale Verteilungen</td>
</tr>
</tbody>
</table>
<p>Für weitere Geome ist das <a href="https://github.com/rstudio/cheatsheets/raw/main/data-visualization-2.1.pdf">Cheat Sheet</a> eine gute Anlaufstelle.</p>
</div>
<div id="achsenbeschriftung-und-themes" class="section level3 hasAnchor" number="9.2.5">
<h3><span class="header-section-number">9.2.5</span> Achsenbeschriftung und Themes<a href="plots.html#achsenbeschriftung-und-themes" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Es lassen sich mit der Logik der Geome auch sämtliche globale Eigenschaften der Grafik bearbeiten. Der einfachste Weg führt über das Geom <code>labs()</code>. Mit diesem könnt ihr Titel (<code>title = ""</code>), Untertitel (<code>subtitle = ""</code>), die Legendenüberschrift (in diesem Fall: <code>color = ""</code>) oder die Achsenbeschriftungen (<code>x = "", y = ""</code>) verändern.</p>
<p>Das allgemeine Erscheinungsbild lässt sich mit sogenannten Themes verändern. Das Package <code>ggthemes</code> stellt dabei noch deutlich mehr Themes zur Verfügung.</p>
<details>
<summary>
<em>Hinweis</em>:
</summary>
<p>Weitere Eigenschaften lassen sich über <code>theme()</code> manipulieren. Diese Vorgehensweise ist aber deutlich komplizierter und erfordert ein wenig Erfahrung im Umgang mit diversen Online-Suchmaschinen ;-).</p>
</details>
<div class="sourceCode" id="cb224"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb224-1"><a href="plots.html#cb224-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggthemes)</span>
<span id="cb224-2"><a href="plots.html#cb224-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb224-3"><a href="plots.html#cb224-3" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_regio,</span>
<span id="cb224-4"><a href="plots.html#cb224-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Europawahl_Beteiligung_percent,</span>
<span id="cb224-5"><a href="plots.html#cb224-5" aria-hidden="true" tabindex="-1"></a>                     <span class="at">y =</span> Europawahl_AFD_percent)) <span class="sc">+</span></span>
<span id="cb224-6"><a href="plots.html#cb224-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">color =</span> Region)) <span class="sc">+</span></span>
<span id="cb224-7"><a href="plots.html#cb224-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rug</span>() <span class="sc">+</span></span>
<span id="cb224-8"><a href="plots.html#cb224-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">&quot;Wahlerfolg der AfD in Abhängigkeit von der Wahlbeteiligung&quot;</span>,</span>
<span id="cb224-9"><a href="plots.html#cb224-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Europawahl 2019, Alle Angaben in %&quot;</span>,</span>
<span id="cb224-10"><a href="plots.html#cb224-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">x =</span> <span class="st">&quot;Wahlbeteiligung&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Wählerstimmen der AfD&quot;</span>,</span>
<span id="cb224-11"><a href="plots.html#cb224-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">color =</span> <span class="st">&quot;Bundesländer&quot;</span>) <span class="sc">+</span></span>
<span id="cb224-12"><a href="plots.html#cb224-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_economist</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-125-1.png" width="\textwidth" /></p>
</div>
<div id="plots-als-objekte" class="section level3 hasAnchor" number="9.2.6">
<h3><span class="header-section-number">9.2.6</span> Plots als Objekte<a href="plots.html#plots-als-objekte" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>GGPlot Plots sind in R nichts anderes als umfangreiche Listen vom Typ “ggplot”.</p>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="plots.html#cb225-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_regio) <span class="sc">%&gt;%</span> <span class="fu">class</span>()</span></code></pre></div>
<pre><code>## [1] &quot;gg&quot;     &quot;ggplot&quot;</code></pre>
<p>Daher können wir auch Plots an Namen binden und im Nachhinein entsprechend aufrufen:</p>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="plots.html#cb227-1" aria-hidden="true" tabindex="-1"></a>base_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> df_regio,</span>
<span id="cb227-2"><a href="plots.html#cb227-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Europawahl_Beteiligung_percent,</span>
<span id="cb227-3"><a href="plots.html#cb227-3" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">y =</span> Europawahl_AFD_percent))</span></code></pre></div>
<p>Sollen viele Plots nacheinander “durchprobiert” werden, bietet sich diese
Vorgehensweise entsprechend an:</p>
<div class="sourceCode" id="cb228"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb228-1"><a href="plots.html#cb228-1" aria-hidden="true" tabindex="-1"></a>base_plot <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> df_regio,</span>
<span id="cb228-2"><a href="plots.html#cb228-2" aria-hidden="true" tabindex="-1"></a>                    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Europawahl_Beteiligung_percent,</span>
<span id="cb228-3"><a href="plots.html#cb228-3" aria-hidden="true" tabindex="-1"></a>                                  <span class="at">y =</span> Europawahl_AFD_percent</span>
<span id="cb228-4"><a href="plots.html#cb228-4" aria-hidden="true" tabindex="-1"></a>                                  )</span>
<span id="cb228-5"><a href="plots.html#cb228-5" aria-hidden="true" tabindex="-1"></a>                    )</span></code></pre></div>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="plots.html#cb229-1" aria-hidden="true" tabindex="-1"></a>base_plot <span class="sc">+</span></span>
<span id="cb229-2"><a href="plots.html#cb229-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>()</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-129-1.png" width="\textwidth" /></p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="plots.html#cb230-1" aria-hidden="true" tabindex="-1"></a>base_plot <span class="sc">+</span></span>
<span id="cb230-2"><a href="plots.html#cb230-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-130-1.png" width="\textwidth" /></p>
</div>
<div id="facets" class="section level3 hasAnchor" number="9.2.7">
<h3><span class="header-section-number">9.2.7</span> Facets<a href="plots.html#facets" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Mithilfe von <strong>Facets</strong> lassen sich mehrere Plots in einer Graphik darstellen. Hierfür nutzen wir das Geom <code>facet_grid()</code>. Die Daten werden hierbei nach den übergebenen Variablen gruppiert und es wird jeweils ein Plot für jedes Merkmal zur Grafik hinzugefügt. Dabei können die Facets in Spalten (<code>cols</code>) oder Zeilen (<code>rows</code>) angeordnet werden.</p>
<p>Deutlicher wird es an einem Beispiel.</p>
<details>
<summary>
<em>Hinweis</em>:
</summary>
<p>Die an <code>facet_grid()</code> übergebenen Variablen müssen erst als Variable expliziert
werden. Dies erfolgt mit <code>vars()</code>.</p>
</details>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="plots.html#cb231-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> df_regio,</span>
<span id="cb231-2"><a href="plots.html#cb231-2" aria-hidden="true" tabindex="-1"></a>       <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Europawahl_Beteiligung_percent,</span>
<span id="cb231-3"><a href="plots.html#cb231-3" aria-hidden="true" tabindex="-1"></a>                     <span class="at">y =</span> Europawahl_AFD_percent)) <span class="sc">+</span></span>
<span id="cb231-4"><a href="plots.html#cb231-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() <span class="sc">+</span></span>
<span id="cb231-5"><a href="plots.html#cb231-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>,</span>
<span id="cb231-6"><a href="plots.html#cb231-6" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb231-7"><a href="plots.html#cb231-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_grid</span>(<span class="at">cols =</span> <span class="fu">vars</span>(Region))</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-131-1.png" width="\textwidth" /></p>
</div>
<div id="speichern-von-grafiken-mit-ggsave" class="section level3 hasAnchor" number="9.2.8">
<h3><span class="header-section-number">9.2.8</span> Speichern von Grafiken mit GGSave<a href="plots.html#speichern-von-grafiken-mit-ggsave" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Auch das Speichern ist mit <code>GGPlot</code> komfortabler.</p>
<p>Hierzu wurde die Funktion <code>ggsave()</code> entwickelt. Vor dem Speichern muss die Grafik als Objekt an einen Namen gebunden werden (oder entsprechend gepiped werden). Im Anschluss können wir die Grafik an die Funktion übergeben. Die Endung des Files gibt dabei das Dateiformat vor, in dem die Grafik gespeichert werden soll. Außerdem können wir in der Funktion weitere Argumente wie die gewünschte Größe des Bildes festlegen.</p>
<p>Am Beispiel:</p>
<div class="sourceCode" id="cb232"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb232-1"><a href="plots.html#cb232-1" aria-hidden="true" tabindex="-1"></a>plot_save <span class="ot">&lt;-</span> </span>
<span id="cb232-2"><a href="plots.html#cb232-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">data =</span> df_regio,</span>
<span id="cb232-3"><a href="plots.html#cb232-3" aria-hidden="true" tabindex="-1"></a>         <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Europawahl_Beteiligung_percent,</span>
<span id="cb232-4"><a href="plots.html#cb232-4" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> Europawahl_AFD_percent)) <span class="sc">+</span></span>
<span id="cb232-5"><a href="plots.html#cb232-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>() </span>
<span id="cb232-6"><a href="plots.html#cb232-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb232-7"><a href="plots.html#cb232-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggsave</span>(<span class="at">plot =</span> plot_save,</span>
<span id="cb232-8"><a href="plots.html#cb232-8" aria-hidden="true" tabindex="-1"></a>       <span class="at">filename =</span> <span class="st">&quot;plots/plot.pdf&quot;</span>,</span>
<span id="cb232-9"><a href="plots.html#cb232-9" aria-hidden="true" tabindex="-1"></a>       <span class="at">height =</span> <span class="dv">7</span>,</span>
<span id="cb232-10"><a href="plots.html#cb232-10" aria-hidden="true" tabindex="-1"></a>       <span class="at">width =</span> <span class="dv">8</span>,</span>
<span id="cb232-11"><a href="plots.html#cb232-11" aria-hidden="true" tabindex="-1"></a>       <span class="at">units =</span> <span class="st">&quot;in&quot;</span>)</span></code></pre></div>
</div>
<div id="erweiterungen" class="section level3 hasAnchor" number="9.2.9">
<h3><span class="header-section-number">9.2.9</span> Erweiterungen<a href="plots.html#erweiterungen" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>GGPlot wurde über die Zeit noch deutlich erweitert. Eine kleine Übersicht findet
ihr <a href="https://exts.ggplot2.tidyverse.org/gallery/">hier</a>.</p>
<p>Wir wollen uns noch kurz mit der Erweiterung <strong>GGForce</strong> und <strong>Viridis</strong> beschäftigen. <a href="https://ggforce.data-imaginist.com">Hier</a> findet ihr
ausführliche Informationen zu GGForce.</p>
<p>Zu Vorbereitung werden die benötigten Packages geladen:</p>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="plots.html#cb233-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb233-2"><a href="plots.html#cb233-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggforce)</span>
<span id="cb233-3"><a href="plots.html#cb233-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(viridis)</span></code></pre></div>
<div id="ggforce" class="section level4 hasAnchor" number="9.2.9.1">
<h4><span class="header-section-number">9.2.9.1</span> GGForce<a href="plots.html#ggforce" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Bei Darstellung mit extrem ungleich verteilten Daten hilft und das Package GGForce. Schauen wir uns zum Beispiel folgenden Plot an:</p>
<div class="sourceCode" id="cb234"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb234-1"><a href="plots.html#cb234-1" aria-hidden="true" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb234-2"><a href="plots.html#cb234-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Burundi&quot;</span>, <span class="st">&quot;Germany&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb234-3"><a href="plots.html#cb234-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> lifeExp, <span class="at">y =</span> gdpPercap, <span class="at">color =</span> country)) <span class="sc">+</span> </span>
<span id="cb234-4"><a href="plots.html#cb234-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">shape =</span> <span class="dv">16</span>, <span class="at">size =</span> <span class="fl">1.7</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-134-1.png" width="\textwidth" /></p>
<p>Das Problem, welches dabei augenscheinlich wird, ist, dass die Werte für Burundi am Boden der Grafik “kleben” und somit praktisch nicht interpretierbar sind.</p>
<p>GGForce bietet uns eine bessere Möglichkeit der Darstellung:</p>
<div class="sourceCode" id="cb235"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb235-1"><a href="plots.html#cb235-1" aria-hidden="true" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb235-2"><a href="plots.html#cb235-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;Burundi&quot;</span>,<span class="st">&quot;Germany&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb235-3"><a href="plots.html#cb235-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> lifeExp, <span class="at">y =</span> gdpPercap, <span class="at">color =</span> country)) <span class="sc">+</span> </span>
<span id="cb235-4"><a href="plots.html#cb235-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>, <span class="at">shape =</span> <span class="dv">16</span>, <span class="at">size =</span> <span class="fl">1.7</span>) <span class="sc">+</span></span>
<span id="cb235-5"><a href="plots.html#cb235-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_zoom</span>(<span class="at">xy =</span> country <span class="sc">==</span> <span class="st">&quot;Burundi&quot;</span>)</span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-135-1.png" width="\textwidth" /></p>
</div>
<div id="viridis" class="section level4 hasAnchor" number="9.2.9.2">
<h4><span class="header-section-number">9.2.9.2</span> Viridis<a href="plots.html#viridis" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>Für viele nicht sichtbar: die Standardfarben von GGPlot sind nicht geeignet für Personen mit Farbenblindheit. Hier hilft das Package <code>viridis</code>.</p>
<div class="sourceCode" id="cb236"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb236-1"><a href="plots.html#cb236-1" aria-hidden="true" tabindex="-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb236-2"><a href="plots.html#cb236-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2007</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb236-3"><a href="plots.html#cb236-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gdpPercap, <span class="at">y =</span> lifeExp, </span>
<span id="cb236-4"><a href="plots.html#cb236-4" aria-hidden="true" tabindex="-1"></a>             <span class="at">size =</span> pop, <span class="at">color =</span> continent)) <span class="sc">+</span> </span>
<span id="cb236-5"><a href="plots.html#cb236-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb236-6"><a href="plots.html#cb236-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>() </span></code></pre></div>
<p><img src="bookdownproj_files/figure-html/unnamed-chunk-136-1.png" width="\textwidth" /></p>
<p>Die Viridis Color-Scales gibt es sowohl für diskrete Daten (<code>scale_color_viridis_d()</code>) als auch für stetige (continuous) Daten (<code>scale_color_viridis_c()</code>.</p>
</div>
</div>
<div id="letzter-hinweis" class="section level3 hasAnchor" number="9.2.10">
<h3><span class="header-section-number">9.2.10</span> Letzter Hinweis<a href="plots.html#letzter-hinweis" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Das Erstellen und Anpassen von Grafiken kann durchaus noch viel komplexer werden. In dieser Sitzung gab es daher nur einen kleinen Einblick in die allgemeine Funktionsweise von <code>ggplot2</code>. Im Zweifel sollte einfach solange auf Webseiten gesucht und rumprobiert werden, bis das gewünschte Ergebnis erzielt wurde.</p>
<p>Bei Inspirationslosigkeit liefert die <a href="https://r-graph-gallery.com">R Graph Gallery</a> Vorschläge für unterschiedliche Typen von Grafiken.</p>
<p><strong>Viel Spaß beim Ausprobieren! :-)</strong></p>
<div id="code-für-die-einstiegs-grafik" class="section level4 hasAnchor" number="9.2.10.1">
<h4><span class="header-section-number">9.2.10.1</span> Code für die Einstiegs-Grafik<a href="plots.html#code-für-die-einstiegs-grafik" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb237"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb237-1"><a href="plots.html#cb237-1" aria-hidden="true" tabindex="-1"></a><span class="fu">readRDS</span>(<span class="at">file =</span> <span class="st">&quot;data/regio.rds&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb237-2"><a href="plots.html#cb237-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Region =</span> <span class="fu">if_else</span>(<span class="at">condition =</span> Regio_Code <span class="sc">&lt;</span> <span class="dv">11000</span>,</span>
<span id="cb237-3"><a href="plots.html#cb237-3" aria-hidden="true" tabindex="-1"></a>                          <span class="at">true =</span> <span class="st">&quot;Alte Bundesländer&quot;</span>,</span>
<span id="cb237-4"><a href="plots.html#cb237-4" aria-hidden="true" tabindex="-1"></a>                          <span class="at">false =</span><span class="st">&quot;Neue Bundesländer&quot;</span>)</span>
<span id="cb237-5"><a href="plots.html#cb237-5" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">%&gt;%</span> </span>
<span id="cb237-6"><a href="plots.html#cb237-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> Europawahl_Beteiligung_percent,</span>
<span id="cb237-7"><a href="plots.html#cb237-7" aria-hidden="true" tabindex="-1"></a>                       <span class="at">y =</span> Europawahl_AFD_percent,</span>
<span id="cb237-8"><a href="plots.html#cb237-8" aria-hidden="true" tabindex="-1"></a>                       <span class="at">color =</span> Region</span>
<span id="cb237-9"><a href="plots.html#cb237-9" aria-hidden="true" tabindex="-1"></a>                       )</span>
<span id="cb237-10"><a href="plots.html#cb237-10" aria-hidden="true" tabindex="-1"></a>         ) <span class="sc">+</span></span>
<span id="cb237-11"><a href="plots.html#cb237-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">size =</span> Durchschnittsalter),</span>
<span id="cb237-12"><a href="plots.html#cb237-12" aria-hidden="true" tabindex="-1"></a>             <span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb237-13"><a href="plots.html#cb237-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_smooth</span>(<span class="at">method =</span> <span class="st">&quot;lm&quot;</span>,</span>
<span id="cb237-14"><a href="plots.html#cb237-14" aria-hidden="true" tabindex="-1"></a>              <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span></span>
<span id="cb237-15"><a href="plots.html#cb237-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_rug</span>() <span class="sc">+</span></span>
<span id="cb237-16"><a href="plots.html#cb237-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Wahlbeteiligung (in Prozent)&quot;</span>,</span>
<span id="cb237-17"><a href="plots.html#cb237-17" aria-hidden="true" tabindex="-1"></a>       <span class="at">y =</span> <span class="st">&quot;Wahlstimmen für die AfD (in Prozent)&quot;</span>,</span>
<span id="cb237-18"><a href="plots.html#cb237-18" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Wahlerfolg der AfD in Abhängigkeit von der Wahlbeteiligung&quot;</span>,</span>
<span id="cb237-19"><a href="plots.html#cb237-19" aria-hidden="true" tabindex="-1"></a>       <span class="at">subtitle =</span> <span class="st">&quot;Europawahl 2019&quot;</span>) <span class="sc">+</span></span>
<span id="cb237-20"><a href="plots.html#cb237-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_color_viridis_d</span>(<span class="at">option =</span> <span class="st">&quot;D&quot;</span>) <span class="sc">+</span></span>
<span id="cb237-21"><a href="plots.html#cb237-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb237-22"><a href="plots.html#cb237-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">text =</span> <span class="fu">element_text</span>(<span class="at">family =</span> <span class="st">&quot;serif&quot;</span>)) </span></code></pre></div>
</div>
</div>
</div>
<div id="prüfe-dich-selbst-5" class="section level2 hasAnchor" number="9.3">
<h2><span class="header-section-number">9.3</span> Prüfe dich selbst<a href="plots.html#prüfe-dich-selbst-5" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Von dieser Sitzung solltest du folgendes mitgenommen haben:</p>
<ul class="task-list">
<li><input type="checkbox" disabled="" checked="" />
Du solltest wissen, wie die generische <code>plot()</code> Funktion in R funktioniert.</li>
<li><input type="checkbox" disabled="" checked="" />
Du solltest mindestens zwei Möglichkeiten nennen können, wie man in R Grafiken erzeugen kann.</li>
<li><input type="checkbox" disabled="" checked="" />
Du solltest verstanden haben, wie man ggplot Grafiken aufbaut. (Stichwort: Layer)</li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tidyverse.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="kontrollstrukturen.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/r-kurs-universitaet-leipzig/handout/edit/master/09-plots.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/r-kurs-universitaet-leipzig/handout/blob/master/09-plots.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
